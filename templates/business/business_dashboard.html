{% extends "base.html" %}
{% block content %}

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Poppins', sans-serif;
    }

    body {
        min-height: 100vh;
        background: linear-gradient(135deg, #b2f7ef, #d6fff6, #fff9c4);
        padding: 18px;
    }

    .container {
        max-width: 560px;
        margin: auto;
        background: rgba(255, 255, 255, .95);
        border-radius: 22px;
        padding: 22px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, .15);
    }

    h2 {
        color: #006d77;
        margin-bottom: 6px;
    }

    .badges {
        display: flex;
        gap: 8px;
        margin-bottom: 14px;
        flex-wrap: wrap;
    }

    .badge {
        font-size: .7rem;
        padding: 5px 12px;
        border-radius: 999px;
        font-weight: 600;
    }

    .verified {
        background: #1da1f2;
        color: #fff
    }

    .approved {
        background: #2ecc71;
        color: #fff
    }

    .pending {
        background: #f39c12;
        color: #fff
    }

    .info p {
        font-size: .9rem;
        margin-top: 8px;
        color: #444;
    }

    iframe {
        width: 100%;
        height: 240px;
        border-radius: 14px;
        border: none;
        margin: 18px 0;
    }

    .rating-box {
        margin-top: 10px;
        font-size: .9rem;
        color: #333;
    }

    button,
    .btn {
        width: 100%;
        margin-top: 14px;
        padding: 14px;
        border: none;
        border-radius: 14px;
        background: linear-gradient(135deg, #00b4d8, #0077b6);
        color: white;
        font-weight: 600;
        cursor: pointer;
        text-decoration: none;
        display: block;
        text-align: center;
    }

    .secondary {
        background: linear-gradient(135deg, #adb5bd, #6c757d);
    }
</style>

<div class="container">

    <h2>{{ business.business_name }}</h2>

    <div class="badges">
        <span class="badge verified">‚úî Verified</span>
        {% if business.is_approved %}
        <span class="badge approved">Approved</span>
        {% else %}
        <span class="badge pending">Pending Approval</span>
        {% endif %}
    </div>

    <div class="info">
        <p><strong>üìç Address:</strong> {{ business.address }}</p>

        <p><strong>‚è∞ Timings:</strong>
            {% if business.open_24_hours %}
            Open 24 Hours
            {% else %}
            {{ business.open_time }} ‚Äì {{ business.close_time }}
            {% endif %}
        </p>

        <p><strong>üìÜ Working Days:</strong> {{ business.working_days|join:", " }}</p>
        <p><strong>üìû Phone:</strong> {{ business.phone }}</p>
        <p><strong>üè∑ Category:</strong> {{ business.category }}</p>
    </div>

    <!-- MAP -->
    <iframe src="https://www.google.com/maps?q={{ business.latitude }},{{ business.longitude }}&z=15&output=embed">
    </iframe>

    <div class="rating-box">
        ‚≠ê <strong>{{ avg_rating }}</strong> / 5
        ({{ total_ratings }} customer reviews)
    </div>

    <!-- ACTIONS -->
    <a href="{% url 'edit_business' %}" class="btn">
        ‚úèÔ∏è Edit Business Details
    </a>


    <a href="{% url 'home' %}" class="btn secondary">
        ‚¨Ö Back to Home
    </a>

</div>

{% endblock %}